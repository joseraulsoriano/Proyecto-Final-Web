<div class="juego-container">
  <header class="header">
    <button class="menu-button" (click)="toggleSidebar()" aria-label="Abrir menú">
      <img src="/assets/menu-icon.svg" alt="Menú" class="menu-icon" />
    </button>
    <div class="header-content">
      <span class="carrera">CARRERA</span>
      <span class="divider">|</span>
      <span class="ducati">DUCATI</span>
    </div>
    <div class="header-spacer"></div>
  </header>

  <app-sidebar [isOpen]="sidebarOpen" [isLoggedIn]="true" (closeSidebar)="closeSidebar()"></app-sidebar>

  <!-- Pantalla del juego -->
  <div class="game-screen-container" *ngIf="!juegoTerminado">
    <div class="game-screen" (click)="onGameScreenClick()">
      <img 
        src="/assets/juego-screen-1.png" 
        alt="Moto Rider Game" 
        class="game-image"
      />
      
      <!-- UI del juego superpuesta -->
      <div class="game-ui">
        <!-- Indicadores superiores izquierda -->
        <div class="ui-top-left">
          <div class="ui-box">
            <span class="ui-label">VELOCIDAD</span>
            <span class="ui-value">{{ velocidad }}</span>
          </div>
          <div class="ui-box">
            <span class="ui-label">PUNTAJE</span>
            <span class="ui-value">{{ puntaje }}</span>
          </div>
          <div class="ui-box">
            <span class="ui-label">PELIGRO</span>
            <span class="ui-value">{{ peligro }}</span>
          </div>
        </div>

        <!-- Banner publicitario superior derecha -->
        <div class="ui-banner">
          <span class="banner-carrera">CARRERA</span>
          <span class="banner-divider">|</span>
          <span class="banner-ducati">DUCATI</span>
        </div>

        <!-- Controles inferiores -->
        <div class="game-controls">
          <button class="control-button brake">FRENO</button>
          <div class="accelerator-icon"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Pantalla de juego terminado -->
  <div class="game-over-screen" *ngIf="juegoTerminado">
    <div class="game-over-content">
      <!-- Título con línea roja -->
      <div class="title-section">
        <img src="/assets/titulo-shape.svg" alt="" class="title-shape" />
        <h2 class="game-over-title">¡EXCELENTE CARRERA!</h2>
      </div>

      <!-- Rectángulo rojo (placeholder para moto/icono) -->
      <div class="red-rectangle"></div>

      <!-- Puntos obtenidos -->
      <div class="points-section">
        <p class="obtuviste-text">OBTUVISTE</p>
        <p class="points-value">{{ puntaje }}</p>
        <p class="points-label">puntos</p>
      </div>

      <!-- Texto motivacional -->
      <div class="motivational-text">
        <p>
          Gracias por participar, acumula más puntos y gana una increíble <strong>Ducati Scrambler.</strong>
        </p>
      </div>

      <!-- Botón IR AL INICIO -->
      <div class="game-over-buttons">
        <button class="action-button primary" (click)="volverAlMenu()">IR AL INICIO</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-links">
      <a routerLink="/politica-privacidad" class="footer-link">POLÍTICA DE PRIVACIDAD</a>
      <a routerLink="/terminos-condiciones" class="footer-link">TÉRMINOS Y CONDICIONES</a>
    </div>
    <div class="footer-copyright">
      <p>CARRERA EYEWEAR © 2022</p>
      <div class="footer-logo">
        <div class="logo-bar black"></div>
        <div class="logo-bar red"></div>
        <div class="logo-bar black"></div>
      </div>
    </div>
  </footer>
</div>
